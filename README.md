# sentence-simulator
根据语法规则生成模拟句子
> 语法规则及交互树详见 [interactive-syntax-tree](https://wzyjerry.github.io/interactive-syntax-tree/)
---
## 输入
1. 语法规则路径
2. 模拟句子数量
3. 实体文件根目录
4. 使用的标注规则（预定义或自定义函数）
5. 输出模板（零个或多个）
6. 调试模式
7. 随机数种子（默认为0）
---
## 输出
1. 输出文件（根据输出模板数量生成）
2. 编译后的语法规则（调试模式）
3. 调试输出（调试模式）
---
## 模拟步骤
1. 编译语法树（编译错误给出提示，结束）
    1. holder节点及其子节点作为注释保留，不参与任何模拟过程
    2. 对于每个intent进行编译，检查每个节点类型，对于每种类型的节点，补全初始值，删除无效字段
    3. 对于每个content->from_file节点，汇总文件名生成 **【列表1：文件列表】**
    4. 对于每个content->entity节点，汇总实体类型生成 **【列表2：实体列表】**
    5. 先序标记节点id（根节点标记为0）
    5. 给出统计信息：各类节点总数，列表1，列表2，content节点上的tag总数
    6. 检查文件列表中文件是否存在
2. （调试模式）输出编译后的语法树规则
3. （调试模式）将调试输出模板追加到输出模板后
3. 将规则转化为模拟器树节点
4. 从根节点用generator模拟n次，沿输出链输出结果